{
    "project": {
        "id": "550e8400-e29b-41d4-a716-446655440000",
        "name": "Customer Support AI Agent",
        "description": "Intelligent customer support agent with multi-step workflow"
    },
    "agents": [
        {
            "id": "agent-001",
            "name": "Support Agent Pro",
            "description": "Advanced customer support agent",
            "type": "conversational",
            "status": "active",
            "llmConfig": {
                "provider": "openai",
                "model": "gpt-4",
                "apiKey": "${OPENAI_API_KEY}",
                "parameters": {
                    "temperature": 0.7,
                    "maxTokens": 2000,
                    "topP": 0.9,
                    "systemPrompt": "You are a helpful customer support agent."
                },
                "fallbackModels": [
                    "gpt-3.5-turbo"
                ],
                "retryConfig": {
                    "maxRetries": 3,
                    "backoffMultiplier": 2.0,
                    "timeout": 30000
                }
            },
            "memoryConfig": {
                "type": "buffer",
                "storageBackend": "redis",
                "config": {
                    "maxMessages": 50,
                    "connectionString": "redis://localhost:6379"
                },
                "retention": {
                    "duration": 7,
                    "unit": "days",
                    "autoCleanup": true
                }
            },
            "tools": [
                {
                    "id": "tool-001",
                    "name": "knowledge_base_search",
                    "type": "api",
                    "description": "Search knowledge base for answers",
                    "enabled": true,
                    "config": {
                        "endpoint": "https://api.example.com/kb/search",
                        "method": "POST",
                        "headers": {
                            "Content-Type": "application/json"
                        },
                        "authentication": {
                            "type": "bearer",
                            "credentials": {
                                "token": "${KB_API_TOKEN}"
                            }
                        },
                        "timeout": 5000
                    },
                    "parameters": [
                        {
                            "name": "query",
                            "type": "string",
                            "required": true,
                            "description": "Search query"
                        },
                        {
                            "name": "limit",
                            "type": "number",
                            "required": false,
                            "defaultValue": 5
                        }
                    ]
                }
            ],
            "workflows": [
                {
                    "id": "workflow-001",
                    "name": "Customer Query Handler",
                    "description": "Main workflow for handling customer queries",
                    "nodes": [
                        {
                            "id": "start-node",
                            "type": "start",
                            "name": "Start",
                            "position": {
                                "x": 100,
                                "y": 100
                            },
                            "outputs": [
                                {
                                    "name": "query",
                                    "type": "string",
                                    "mapping": "input.query"
                                }
                            ]
                        },
                        {
                            "id": "classify-intent",
                            "type": "llm",
                            "name": "Classify Intent",
                            "position": {
                                "x": 300,
                                "y": 100
                            },
                            "config": {
                                "llmConfig": {
                                    "provider": "openai",
                                    "model": "gpt-4",
                                    "parameters": {
                                        "temperature": 0.3,
                                        "maxTokens": 100
                                    }
                                },
                                "promptTemplate": {
                                    "template": "Classify this customer query into one of: technical, billing, general.\nQuery: ${query}\nRespond with only one word.",
                                    "variables": [
                                        "query"
                                    ]
                                }
                            },
                            "inputs": [
                                {
                                    "name": "query",
                                    "type": "string",
                                    "source": "query",
                                    "required": true
                                }
                            ],
                            "outputs": [
                                {
                                    "name": "intent",
                                    "type": "string",
                                    "mapping": "response"
                                }
                            ],
                            "errorHandling": {
                                "strategy": "retry",
                                "maxRetries": 3,
                                "retryDelay": 1000
                            }
                        },
                        {
                            "id": "route-by-intent",
                            "type": "condition",
                            "name": "Route by Intent",
                            "position": {
                                "x": 500,
                                "y": 100
                            },
                            "config": {
                                "condition": {
                                    "expression": "intent === 'technical'",
                                    "operator": "==",
                                    "value": "technical"
                                }
                            }
                        },
                        {
                            "id": "search-kb",
                            "type": "tool",
                            "name": "Search Knowledge Base",
                            "position": {
                                "x": 700,
                                "y": 50
                            },
                            "config": {
                                "tool": {
                                    "id": "tool-001",
                                    "name": "knowledge_base_search",
                                    "type": "api"
                                }
                            },
                            "inputs": [
                                {
                                    "name": "query",
                                    "type": "string",
                                    "source": "query",
                                    "required": true
                                }
                            ]
                        },
                        {
                            "id": "generate-response",
                            "type": "llm",
                            "name": "Generate Response",
                            "position": {
                                "x": 900,
                                "y": 100
                            },
                            "config": {
                                "promptTemplate": {
                                    "template": "Based on this knowledge base info:\n${kbResults}\n\nAnswer this query: ${query}",
                                    "variables": [
                                        "kbResults",
                                        "query"
                                    ]
                                }
                            },
                            "inputs": [
                                {
                                    "name": "kbResults",
                                    "type": "object",
                                    "source": "toolResult"
                                },
                                {
                                    "name": "query",
                                    "type": "string",
                                    "source": "query"
                                }
                            ]
                        },
                        {
                            "id": "validate-response",
                            "type": "validator",
                            "name": "Validate Response",
                            "position": {
                                "x": 1100,
                                "y": 100
                            },
                            "config": {
                                "validationConfig": {
                                    "schema": {
                                        "minLength": 10,
                                        "maxLength": 1000
                                    },
                                    "onFailure": "retry",
                                    "fallbackValue": "I apologize, but I need more information to answer your question."
                                }
                            }
                        },
                        {
                            "id": "direct-answer",
                            "type": "llm",
                            "name": "Direct Answer",
                            "position": {
                                "x": 700,
                                "y": 150
                            },
                            "config": {
                                "promptTemplate": {
                                    "template": "Provide a helpful answer to: ${query}",
                                    "variables": [
                                        "query"
                                    ]
                                }
                            }
                        },
                        {
                            "id": "end-node",
                            "type": "end",
                            "name": "End",
                            "position": {
                                "x": 1300,
                                "y": 100
                            },
                            "inputs": [
                                {
                                    "name": "response",
                                    "type": "string",
                                    "source": "response"
                                }
                            ]
                        }
                    ],
                    "edges": [
                        {
                            "id": "edge-1",
                            "source": "start-node",
                            "target": "classify-intent",
                            "type": "default"
                        },
                        {
                            "id": "edge-2",
                            "source": "classify-intent",
                            "target": "route-by-intent",
                            "type": "default"
                        },
                        {
                            "id": "edge-3",
                            "source": "route-by-intent",
                            "target": "search-kb",
                            "type": "conditional",
                            "condition": {
                                "expression": "intent === 'technical'",
                                "priority": 1
                            },
                            "label": "Technical"
                        },
                        {
                            "id": "edge-4",
                            "source": "route-by-intent",
                            "target": "direct-answer",
                            "type": "conditional",
                            "condition": {
                                "expression": "intent !== 'technical'",
                                "priority": 2
                            },
                            "label": "Other"
                        },
                        {
                            "id": "edge-5",
                            "source": "search-kb",
                            "target": "generate-response",
                            "type": "default"
                        },
                        {
                            "id": "edge-6",
                            "source": "generate-response",
                            "target": "validate-response",
                            "type": "default"
                        },
                        {
                            "id": "edge-7",
                            "source": "validate-response",
                            "target": "end-node",
                            "type": "default"
                        },
                        {
                            "id": "edge-8",
                            "source": "direct-answer",
                            "target": "end-node",
                            "type": "default"
                        }
                    ],
                    "variables": [
                        {
                            "id": "var-001",
                            "name": "query",
                            "type": "string",
                            "scope": "workflow",
                            "persistent": false
                        },
                        {
                            "id": "var-002",
                            "name": "intent",
                            "type": "string",
                            "scope": "workflow",
                            "persistent": false
                        },
                        {
                            "id": "var-003",
                            "name": "response",
                            "type": "string",
                            "scope": "workflow",
                            "persistent": false
                        }
                    ],
                    "triggers": [
                        {
                            "type": "webhook",
                            "config": {
                                "path": "/webhook/customer-query",
                                "method": "POST",
                                "authentication": {
                                    "type": "bearer",
                                    "tokenHeader": "Authorization"
                                }
                            }
                        },
                        {
                            "type": "manual",
                            "config": {}
                        }
                    ]
                }
            ],
            "personality": {
                "tone": "friendly",
                "style": "professional",
                "guidelines": [
                    "Always be polite and respectful",
                    "Provide clear and concise answers",
                    "Admit when you don't know something",
                    "Offer to escalate complex issues"
                ],
                "exampleConversations": [
                    {
                        "user": "I can't access my account",
                        "assistant": "I understand how frustrating that must be. Let me help you regain access to your account."
                    }
                ]
            },
            "capabilities": {
                "multimodal": false,
                "streaming": true,
                "functionCalling": true,
                "codeExecution": false,
                "webBrowsing": false,
                "fileHandling": {
                    "upload": true,
                    "supportedTypes": [
                        "pdf",
                        "txt",
                        "docx"
                    ],
                    "maxSize": 10485760
                }
            },
            "safety": {
                "contentFiltering": true,
                "piiDetection": true,
                "toxicityThreshold": 0.8,
                "allowedTopics": [
                    "customer_support",
                    "product_info",
                    "troubleshooting"
                ],
                "blockedTopics": [
                    "medical_advice",
                    "legal_advice"
                ],
                "moderationRules": [
                    "No sharing of personal information",
                    "No providing financial advice"
                ]
            },
            "analytics": {
                "enabled": true,
                "metrics": [
                    "latency",
                    "tokens",
                    "cost",
                    "success_rate",
                    "user_satisfaction"
                ],
                "logging": {
                    "level": "info",
                    "destination": "stdout"
                }
            },
            "deployment": {
                "environment": "production",
                "scalingConfig": {
                    "minInstances": 2,
                    "maxInstances": 10,
                    "autoscale": true
                },
                "endpoints": [
                    {
                        "type": "rest",
                        "url": "/api/agents/agent-001",
                        "authentication": {
                            "type": "bearer"
                        }
                    }
                ]
            }
        }
    ]
}